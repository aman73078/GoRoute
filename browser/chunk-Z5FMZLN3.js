import{$a as x,Aa as w,Bb as B,Ea as g,Ka as s,Ma as y,Na as i,Oa as n,Pa as f,Sa as h,Ta as u,Ua as p,W as v,X as S,Ya as _,Za as o,_a as d,ab as k,ia as m,sa as r,yb as C,zb as E}from"./chunk-OCUVTRGR.js";function P(l,a){if(l&1){let e=h();i(0,"div",39)(1,"div",40),f(2,"input",41,0)(4,"input",42,1)(6,"input",43,2),n(),i(8,"div",44)(9,"button",45),u("click",function(){v(e);let c=_(3),b=_(5),T=_(7),M=p();return S(M.updateSearch(c.value,b.value,T.value))}),o(10," Update Search "),n()()()}if(l&2){let e=p();r(2),s("value",e.source()),r(2),s("value",e.destination()),r(2),s("value",e.date())}}function F(l,a){if(l&1){let e=h();i(0,"button",47),u("click",function(){let c=v(e).$implicit,b=p(2);return S(b.toggleSeat(c))}),o(1),n()}if(l&2){let e=a.$implicit,t=p(2);y("bg-gray-300",e.booked)("bg-red-500",t.selectedSeats().includes(e))("cursor-not-allowed",e.booked),r(),x(" ",e.id," ")}}function O(l,a){if(l&1&&(i(0,"div"),g(1,F,2,7,"button",46),n()),l&2){let e=a.$implicit;r(),s("ngForOf",e)}}function V(l,a){if(l&1){let e=h();i(0,"button",49),u("click",function(){let c=v(e).$implicit,b=p(2);return S(b.toggleSeat(c))}),o(1),n()}if(l&2){let e=a.$implicit,t=p(2);y("bg-gray-300",e.booked)("bg-red-500",t.selectedSeats().includes(e))("cursor-not-allowed",e.booked),r(),x(" ",e.id," ")}}function N(l,a){if(l&1&&(i(0,"div"),g(1,V,2,7,"button",48),n()),l&2){let e=a.$implicit;r(),s("ngForOf",e)}}var I=class l{source=m("Bangalore");destination=m("Chennai");date=m("2025-10-25");showModifySearch=m(!1);bus={operator:"KPN Travels",departure:"06:00",arrival:"14:30",duration:"08h 30m",rating:4.5,type:"AC",seater:"Sleeper"};seats=[[{id:"A1",type:"Seater",booked:!1,price:500},{id:"A2",type:"Seater",booked:!1,price:500}],[{id:"B1",type:"Seater",booked:!0,price:500},{id:"B2",type:"Seater",booked:!1,price:500}],[{id:"C1",type:"Seater",booked:!1,price:500},{id:"C2",type:"Seater",booked:!0,price:500}],[{id:"R1",type:"Sleeper",booked:!1,price:700},{id:"R2",type:"Sleeper",booked:!1,price:700}],[{id:"R3",type:"Sleeper",booked:!1,price:700},{id:"R4",type:"Sleeper",booked:!0,price:700}]];selectedSeats=m([]);toggleSeat(a){if(a.booked)return;let e=this.selectedSeats();e.includes(a)?this.selectedSeats.set(e.filter(t=>t!==a)):this.selectedSeats.set([...e,a])}getTotalPrice(){return this.selectedSeats().reduce((a,e)=>a+e.price,0)}bookSeats(){if(this.selectedSeats().length===0){alert("Please select at least one seat!");return}let a=this.selectedSeats().map(e=>e.id).join(", ");alert(`Booking successful for seats: ${a}
Total: \u20B9${this.getTotalPrice()}`),this.seats.forEach(e=>e.forEach(t=>{this.selectedSeats().includes(t)&&(t.booked=!0)})),this.selectedSeats.set([])}toggleModifySearch(){this.showModifySearch.set(!this.showModifySearch())}updateSearch(a,e,t){this.source.set(a),this.destination.set(e),this.date.set(t),this.showModifySearch.set(!1)}getSelectedSeat(){return this.selectedSeats().map(a=>a.id).join(", ")||"None"}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=w({type:l,selectors:[["app-booking"]],decls:69,vars:17,consts:[["src",""],["dest",""],["dt",""],[1,"bg-gray-100","min-h-screen","py-10","font-['Inter']"],[1,"max-w-7xl","mx-auto","px-4"],[1,"bg-white","p-4","sm:p-6","rounded-xl","shadow-md","mb-6","border-l-4","border-red-600"],[1,"flex","flex-col","sm:flex-row","justify-between","items-center","gap-4"],[1,"text-xl","font-bold","text-gray-800"],[1,"text-red-600"],[1,"text-lg","text-gray-600"],[1,"font-semibold"],[1,"bg-red-600","text-white","font-bold","py-2","px-4","rounded-lg","hover:bg-red-700","transition",3,"click"],["class","mt-4 pt-4 border-t border-gray-200",4,"ngIf"],[1,"bg-white","p-6","rounded-xl","shadow-lg","mb-6","flex","items-center","justify-between","gap-4"],[1,"text-xl","font-bold"],[1,"text-gray-500","mt-1"],[1,"text-sm","text-gray-500","mt-1"],[1,"text-center"],[1,"font-semibold","text-gray-700","text-lg"],[1,"text-xs","text-gray-500"],[1,"text-center","text-gray-400"],[1,"text-xs","font-semibold"],[1,"flex","flex-col","lg:flex-row","gap-8"],[1,"flex-1","bg-white","p-6","rounded-xl","shadow-lg","relative"],[1,"w-full","h-16","bg-red-600","rounded-t-xl","flex","items-center","justify-center","text-white","font-bold","mb-4"],[1,"grid","grid-cols-2","gap-4"],[1,"space-y-2"],[4,"ngFor","ngForOf"],[1,"mt-6","flex","items-center","gap-4"],[1,"flex","items-center","gap-1"],[1,"w-4","h-4","bg-red-500","rounded-sm"],[1,"w-4","h-4","bg-gray-300","rounded-sm"],[1,"w-4","h-4","bg-white","border","border-gray-400","rounded-sm"],[1,"lg:w-1/3","bg-white","p-6","rounded-xl","shadow-lg"],[1,"text-xl","font-bold","text-gray-800","mb-4"],[1,"mb-2"],[1,"mb-4"],[1,"font-bold","text-red-600"],[1,"w-full","bg-red-600","text-white","font-bold","py-2","px-4","rounded-lg","hover:bg-red-700","transition-all",3,"click"],[1,"mt-4","pt-4","border-t","border-gray-200"],[1,"grid","grid-cols-1","sm:grid-cols-3","gap-4"],["type","text","placeholder","From",1,"input-field",3,"value"],["type","text","placeholder","To",1,"input-field",3,"value"],["type","date",1,"input-field",3,"value"],[1,"text-right","mt-4"],[1,"bg-red-600","text-white","font-bold","py-2","px-6","rounded-lg","hover:bg-red-700","transition",3,"click"],["class","w-14 h-14 rounded-lg border border-gray-400 text-white font-bold hover:scale-110 transition-all",3,"bg-gray-300","bg-red-500","cursor-not-allowed","click",4,"ngFor","ngForOf"],[1,"w-14","h-14","rounded-lg","border","border-gray-400","text-white","font-bold","hover:scale-110","transition-all",3,"click"],["class","w-20 h-12 rounded-lg border border-gray-400 text-white font-bold hover:scale-110 transition-all",3,"bg-gray-300","bg-red-500","cursor-not-allowed","click",4,"ngFor","ngForOf"],[1,"w-20","h-12","rounded-lg","border","border-gray-400","text-white","font-bold","hover:scale-110","transition-all",3,"click"]],template:function(e,t){e&1&&(i(0,"main",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h1",7)(5,"span",8),o(6),n(),o(7," to "),i(8,"span",8),o(9),n()(),i(10,"div",9)(11,"span",10),o(12),n()(),i(13,"button",11),u("click",function(){return t.toggleModifySearch()}),o(14," Modify Search "),n()(),g(15,P,11,3,"div",12),n(),i(16,"div",13)(17,"div")(18,"h2",14),o(19),n(),i(20,"p",15),o(21),n(),i(22,"p",16),o(23),n()(),i(24,"div",17)(25,"p",18),o(26),n(),i(27,"p",19),o(28),n()(),i(29,"div",20)(30,"p",21),o(31),n()(),i(32,"div",17)(33,"p",18),o(34),n(),i(35,"p",19),o(36),n()()(),i(37,"div",22)(38,"section",23)(39,"div",24),o(40,"DRIVER"),n(),i(41,"div",25)(42,"div",26),g(43,O,2,1,"div",27),n(),i(44,"div",26),g(45,N,2,1,"div",27),n()(),i(46,"div",28)(47,"div",29),f(48,"div",30),o(49," Selected"),n(),i(50,"div",29),f(51,"div",31),o(52," Booked"),n(),i(53,"div",29),f(54,"div",32),o(55," Available"),n()()(),i(56,"aside",33)(57,"h2",34),o(58,"Booking Summary"),n(),i(59,"p",35),o(60,"Selected Seats: "),i(61,"span",10),o(62),n()(),i(63,"p",36),o(64,"Total Price: "),i(65,"span",37),o(66),n()(),i(67,"button",38),u("click",function(){return t.bookSeats()}),o(68,"Book Now"),n()()()()()),e&2&&(r(6),d(t.source()),r(3),d(t.destination()),r(3),d(t.date()),r(3),s("ngIf",t.showModifySearch()),r(4),d(t.bus.operator),r(2),k("",t.bus.type," / ",t.bus.seater,""),r(2),x("Rating: ",t.bus.rating," \u2B50"),r(3),d(t.bus.departure),r(2),d(t.source()),r(3),d(t.bus.duration),r(3),d(t.bus.arrival),r(2),d(t.destination()),r(7),s("ngForOf",t.seats.slice(0,3)),r(2),s("ngForOf",t.seats.slice(3)),r(17),d(t.getSelectedSeat()),r(4),x("\u20B9",t.getTotalPrice(),""))},dependencies:[B,C,E],styles:[".input-field[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #d1d5db;border-radius:.5rem;width:100%;font-size:.9rem;outline:none}.input-field[_ngcontent-%COMP%]:focus{border-color:#ef4444;box-shadow:0 0 0 2px #ef444433}button[_ngcontent-%COMP%]:disabled, button.cursor-not-allowed[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}button.bg-red-500[_ngcontent-%COMP%]{background-color:#ef4444!important}"]})};export{I as BookingComponent};
